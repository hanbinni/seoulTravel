## 📝 개요

- **프로젝트명**: 서울 트래블
- **기간**: 2024. 07 ~ 2024. 12
- **담당업무 / 총원**: 백엔드, 인프라 / 4인
- **기술 스택**
    - **언어**: Java, HTML, CSS, JavaScript, TailwindCSS, Scss
    - **OS / Server**: Linux(Ubuntu), Apache, Spring Boot(Embedded Tomcat)
    - **툴 / 프레임워크**: VMware, Spring Boot, Docker, IntelliJ, Bootstrap, JQuery, MySQL, MySQL Workbench, Git
    - 키워드 : VM, Docker Docker Compose, systemd

---

## 📖 프로젝트 내용

### 1. 프로젝트 설명

- AI 기반 여행 계획 웹 애플리케이션
- 사용자는 **여행 일정, 경로, 숙소 등 세부 계획을 생성·관리**할 수 있음
- **새로운 여행지(스폿)** 를 직접 등록 및 공유 가능
- 다른 사용자의 여행 계획을 **참고하거나 복제**하여 나만의 계획으로 재구성 가능

### 2. 배경 및 목표

- 여행 계획 과정의 **복잡함과 시간 낭비를 줄이기 위해** 개발
- 사용자의 **여행 목적·테마·취향에 맞춘 AI 추천 및 경로 최적화** 제공
- 일정 공유 기능을 통해 **단체 여행의 협업 효율성** 향상
- 커뮤니티 기반으로 **다른 이용자의 여행 데이터를 활용한 재사용성 강화**

### 3. 기술 구현

### 🔹 인프라 구조

- Linux 기반 가상머신(VM)에서 Docker로 서비스별 컨테이너를 운영하고 있습니다.
- Docker Compose로 웹·Java 등 여러 컨테이너를 일괄 관리하며, systemd에 서비스로 등록해 서버 재부팅 시 자동으로 Compose가 실행되도록 구성했습니다.
- MySQL은 별도의 VM에 배치하여 데이터베이스와 애플리케이션을 분리하고, 단일 서버 장애에 대비하도록 설계했습니다.

### 🔹 아키텍처 구조

- 전체 서비스는 **3계층 구조(웹 – 애플리케이션 – DB)** 로 설계되었습니다.
    
    기능별 모듈화를 통해 **일정 관리, 후기 공유, 친구 기능**이 독립적으로 동작할 수 있도록 구현하였습니다.
    
- 사용자는 웹 브라우저를 통해 **메인 페이지**에 접속하며,
    
    로그인 후 **일정 페이지**, **커뮤니티**, **마이페이지** 등의 기능을 이용할 수 있습니다.
    
- 백엔드는 **Spring Boot** 기반으로 개발되었으며,
    
    각 기능은 **개별 Controller**로 분리되어 **RESTful API** 방식으로 프론트엔드와 통신합니다.
    

### 4. 문제 해결

### 🔹 리뷰 상세 페이지의 라우팅 및 상태 문제

- 리뷰 상세 페이지를 별도의 경로로 분리하면서 **화면 전환 시 상태 유지 문제가 발생**하였습니다.
- 이를 해결하기 위해 **단일 페이지 내 라우팅 구조로 리팩토링**하여
    
    뒤로가기 및 상태 관리 문제를 단순화하였습니다.
    

### 🔹 Docker 환경에서의 포트 충돌 문제

- 테스트 환경에서는 정상 작동했으나, 배포 시 **호스트 포트 매핑 충돌 및 컨테이너 간 통신 경로 문제** 가 발생하였습니다.
- **Docker Compose의 전용 네트워크와 서비스명 기반 호스트명 지정** 을 통해 컨테이너 간 통신을 안정화하였습니다.

### 🔹 VM 내부 Docker 환경에서의 데이터 초기화 문제

- 초기 설정에서는 VM 재부팅이나 컨테이너 종료로 인해 **MySQL 컨테이너의 데이터가 초기화되는 문제**가 발생했습니다.
- 이를 해결하기 위해 컨테이너 외부에 **호스트 볼륨(또는 Docker 볼륨)을 마운트**하여 컨테이너 재시작·재배포 시에도 데이터가 유지되도록 개선하였습니다.

### 5. 결과

### 🔹 배운 점

- **ERD 설계의 중요성**과, 데이터 출력을 고려한 **정규화·반정규화 과정의 필요성**을 이해함
- **Docker를 활용한 애플리케이션 빌드 및 배포 자동화 과정**을 직접 경험하며,
    
    컨테이너 환경에서의 서비스 동작 원리를 체득함
    
- **컨테이너 간 통신 및 외부 네트워크 연결 설정** 과정을 통해 실제 배포 환경에서의 네트워크 구성을 익힘
- **게시판 CRUD 기능과 REST API 구조 설계**를 통해 클라이언트-서버 간 데이터 처리 흐름을 이해함

### 🔹 개선 계획

- **시각화 모니터링 툴**(예: Prometheus, Grafana)을 도입하여 서버 부하 및 시스템 자원 사용 현황을 시각적으로 관리할 예정
- **서버 이중화(HA) 구조**를 적용하여 장애 발생 시에도 안정적으로 서비스를 유지할 수 있는 환경으로 개선 계획
- 마찬가지로 db또한 keepalived를 활용해 master-slave 구조 고가용성을 수행할 계획

### 🔹 성과

- **2024 교내 스마트 SW 개발 경진대회 장려**

---

## 📚 관련 자료

- git-hub : https://github.com/hanbinni/seoulTravel
- 발표자료 :
- 이미지

![image.png](attachment:7aab0be0-dbec-4843-a493-f77208da9e6c:image.png)

ERD구조

![image.png](attachment:2fa8bb30-8a48-4327-a699-bd47d6c48741:image.png)

VM 구조

![image.png](attachment:b90db5a5-0969-42a9-b9d3-80c7c3a0f996:image.png)

Dockerfile

![image.png](attachment:b27d625e-1255-403f-9d62-bdd21a3acbf8:image.png)

docker-compose

![image.png](attachment:6eb5fcf1-6483-4512-8e44-7325e73f88f7:image.png)

메인화면

![image.png](attachment:36572b4c-2e2e-4bc9-a78f-0022265c69b0:image.png)

커뮤니티 페이지

![image.png](attachment:65127eec-50d0-45a5-9a04-bd4bd3a38316:image.png)

계획설정(지도 부분)

![image.png](attachment:d333387e-ac10-47c4-bb48-f66c5fe5efd6:image.png)

-
